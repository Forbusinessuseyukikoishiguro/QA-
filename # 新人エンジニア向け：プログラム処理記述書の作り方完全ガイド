# 新人エンジニア向け：プログラム処理記述書の作り方完全ガイド

## はじめに

プログラム処理記述書は、システム開発において「何をどのように処理するか」を詳細に記述した重要な設計書です。新人エンジニアの方にとって、この文書の作成は少し難しく感じるかもしれませんが、基本的な構成と書き方を理解すれば、誰でも質の高い処理記述書を作成できます。

## プログラム処理記述書とは？

**プログラム処理記述書**とは、システムの各機能や処理について、その詳細な動作を記述した設計書のことです。プログラマーがコードを書く際の設計図となる重要な文書です。

### 主な目的
- **実装の指針**：開発者が迷わずにコードを書けるようにする
- **品質の担保**：処理の漏れやバグを事前に防ぐ
- **保守性の向上**：後から見直しやすくする
- **チーム内の共通理解**：関係者全員が同じ認識を持つ

## 基本的な構成要素

### 1. 基本情報セクション

```
■ 文書情報
・文書名：〇〇機能処理記述書
・作成日：2025/XX/XX
・作成者：山田太郎
・更新日：2025/XX/XX
・更新者：田中花子
・バージョン：1.0

■ 対象機能
・機能名：商品検索機能
・機能ID：F001
・関連画面：G01商品一覧画面
```

### 2. 処理概要

機能の全体像を簡潔に説明します。

```
【処理概要】
顧客が商品検索条件を入力すると、データベースから該当する商品情報を取得し、
一覧形式で表示する機能です。検索条件には商品名、カテゴリ、価格帯を指定できます。
```

### 3. 入力・出力定義

**入力情報**
- 検索条件（商品名、カテゴリ、価格帯）
- ユーザー権限情報

**出力情報**
- 商品一覧データ
- 検索結果件数
- エラーメッセージ（該当なし）

### 4. 処理フロー

処理の流れを番号付きで記述します。

```
【処理フロー】
1. 入力値チェック
   1-1. 必須項目チェック
   1-2. 形式チェック（文字数、数値範囲等）
   1-3. エラーがある場合はエラーメッセージを表示

2. データベース検索
   2-1. 検索条件をSQL文に変換
   2-2. 商品マスタテーブルから該当データを抽出
   2-3. 検索結果が0件の場合は「該当なし」メッセージを表示

3. 結果表示
   3-1. 検索結果を一覧形式で表示
   3-2. 検索結果件数を表示
   3-3. ページング処理（20件ずつ表示）
```

## 作成時のポイント

### 1. **具体的に書く**
曖昧な表現は避け、具体的な処理内容を記述しましょう。

**悪い例**：「適切に処理する」
**良い例**：「入力値が数値以外の場合、エラーメッセージ『数値を入力してください』を表示する」

### 2. **例外処理も忘れずに**
正常な処理だけでなく、エラーケースも必ず記述します。

```
【例外処理】
・データベース接続エラー → 「システムエラーが発生しました」を表示
・タイムアウトエラー → 「処理時間が超過しました」を表示
・権限不足エラー → 「この機能を使用する権限がありません」を表示
```

### 3. **テーブル設計との整合性を確認**
使用するテーブルやカラム名は、データベース設計書と一致させます。

### 4. **パフォーマンスを考慮**
大量データの処理や複雑な検索条件がある場合は、性能面の考慮事項も記述します。

## 実際の記述例

### 商品検索機能の処理記述書（サンプル）

```
■ 機能概要
顧客が商品を検索する機能

■ 処理詳細
1. 入力値検証
   1-1. 商品名：文字数チェック（50文字以内）
   1-2. 価格帯：数値チェック（0以上999999以下）
   1-3. カテゴリ：マスタ存在チェック

2. データベース検索処理
   2-1. 検索条件組み立て
        - 商品名：部分一致検索（LIKE '%商品名%'）
        - 価格帯：範囲検索（BETWEEN 最小値 AND 最大値）
        - カテゴリ：完全一致検索（= カテゴリID）
   
   2-2. SQL実行
        SELECT 商品ID, 商品名, 価格, カテゴリ名
        FROM 商品マスタ M
        INNER JOIN カテゴリマスタ C ON M.カテゴリID = C.カテゴリID
        WHERE M.削除フラグ = 0
        AND (商品名 LIKE '%入力値%' OR 入力値 IS NULL)
        AND (価格 BETWEEN 最小値 AND 最大値)
        ORDER BY 商品ID

3. 結果表示処理
   3-1. 検索結果0件の場合：「該当する商品がありません」を表示
   3-2. 検索結果1件以上の場合：一覧表示（1ページ20件）
   3-3. 検索結果が100件を超える場合：「検索条件を絞り込んでください」を表示
```

## よくある間違いと対策

### 1. **処理が抽象的すぎる**
**問題**：「データを取得する」だけでは不十分
**対策**：「どのテーブルから」「どの条件で」「どのカラムを」取得するか明記

### 2. **エラーハンドリングの記述漏れ**
**問題**：正常系の処理しか書いていない
**対策**：想定されるエラーケースを全て洗い出して記述

### 3. **業務ルールの記述不足**
**問題**：システム的な処理のみで業務ルールが不明
**対策**：「なぜその処理をするのか」も併せて記述

## 作成の手順

### Step 1: 要件整理
- 何をする機能なのか
- 誰が使うのか
- いつ使うのか

### Step 2: 処理の洗い出し
- 必要な処理を全て列挙
- 処理の順序を決定
- 例外ケースを検討

### Step 3: 詳細設計
- 各処理の具体的な内容を記述
- データベース設計との整合性確認
- パフォーマンス要件の検討

### Step 4: レビュー・修正
- 上司や先輩にレビューを依頼
- 指摘事項を反映
- 最終版の完成

## まとめ

プログラム処理記述書は、システム開発の成功を左右する重要な文書です。最初は時間がかかるかもしれませんが、丁寧に作成する習慣を身につけることで、より良いシステムを作ることができます。

**重要なポイント**：
- 具体的で分かりやすい記述を心がける
- エラーケースも必ず考慮する
- 関係者とのコミュニケーションを大切にする
- 実装後の保守性も考慮する

新人エンジニアの皆さんも、この記事を参考に、質の高い処理記述書を作成してください。わからないことがあれば、遠慮なく先輩や上司に相談しましょう。チーム全体で良いシステムを作り上げることが何より重要です。
